<!DOCTYPE html>
<html>
<head>
    <title>–¢–µ—Å—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö - 120+</title>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        button:hover {
            background: #1d4ed8;
        }
        .success { color: #059669; font-weight: bold; }
        .error { color: #dc2626; font-weight: bold; }
        .info { color: #0284c7; }
        pre {
            background: #f9fafb;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö localStorage</h1>

    <div class="section">
        <h2>1. Medications</h2>
        <button onclick="testMedications()">–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–π medication</button>
        <button onclick="showMedications()">–ü–æ–∫–∞–∑–∞—Ç–∏ medications</button>
        <button onclick="clearMedications()">–û—á–∏—Å—Ç–∏—Ç–∏</button>
        <div id="medications-result"></div>
    </div>

    <div class="section">
        <h2>2. Dependents</h2>
        <button onclick="testDependents()">–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ dependent</button>
        <button onclick="showDependents()">–ü–æ–∫–∞–∑–∞—Ç–∏ dependents</button>
        <button onclick="clearDependents()">–û—á–∏—Å—Ç–∏—Ç–∏</button>
        <div id="dependents-result"></div>
    </div>

    <div class="section">
        <h2>3. Patients</h2>
        <button onclick="testPatients()">–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ patient</button>
        <button onclick="showPatients()">–ü–æ–∫–∞–∑–∞—Ç–∏ patients</button>
        <button onclick="clearPatients()">–û—á–∏—Å—Ç–∏—Ç–∏</button>
        <div id="patients-result"></div>
    </div>

    <div class="section">
        <h2>4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</h2>
        <p class="info">–î–æ–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ, –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å—Ç–æ—Ä—ñ–Ω–∫—É (F5) —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤–æ–Ω–∏ –∑–∞–ª–∏—à–∏–ª–∏—Å—å</p>
        <button onclick="location.reload()">–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É</button>
    </div>

    <script>
        // Medications
        function testMedications() {
            const meds = JSON.parse(localStorage.getItem('mock_medications') || '[]');
            const newMed = {
                id: Date.now(),
                name: `Test Medication ${new Date().toLocaleTimeString('uk-UA')}`,
                dosage: '10mg',
                frequency: '1x day',
                userId: 'test-user-123',
                createdAt: new Date().toISOString()
            };
            meds.push(newMed);
            localStorage.setItem('mock_medications', JSON.stringify(meds));
            document.getElementById('medications-result').innerHTML =
                `<p class="success">‚úÖ –î–æ–¥–∞–Ω–æ medication: ${newMed.name}</p>`;
            showMedications();
        }

        function showMedications() {
            const meds = JSON.parse(localStorage.getItem('mock_medications') || '[]');
            const userMeds = meds.filter(m => m.userId === 'test-user-123');
            document.getElementById('medications-result').innerHTML =
                `<p class="info">üì¶ –í—Å—å–æ–≥–æ medications: ${meds.length}</p>
                <p class="info">üë§ –î–ª—è test-user-123: ${userMeds.length}</p>
                <pre>${JSON.stringify(userMeds, null, 2)}</pre>`;
        }

        function clearMedications() {
            let meds = JSON.parse(localStorage.getItem('mock_medications') || '[]');
            meds = meds.filter(m => m.userId !== 'test-user-123');
            localStorage.setItem('mock_medications', JSON.stringify(meds));
            document.getElementById('medications-result').innerHTML =
                `<p class="success">‚úÖ –¢–µ—Å—Ç–æ–≤—ñ medications –æ—á–∏—â–µ–Ω–æ</p>`;
        }

        // Dependents
        function testDependents() {
            const deps = JSON.parse(localStorage.getItem('mock_dependents') || '[]');
            const newDep = {
                id: Date.now().toString(),
                name: `Test Dependent ${new Date().toLocaleTimeString('uk-UA')}`,
                relationship: 'Family',
                userId: 'test-user-123',
                createdAt: new Date().toISOString()
            };
            deps.push(newDep);
            localStorage.setItem('mock_dependents', JSON.stringify(deps));
            document.getElementById('dependents-result').innerHTML =
                `<p class="success">‚úÖ –î–æ–¥–∞–Ω–æ dependent: ${newDep.name}</p>`;
            showDependents();
        }

        function showDependents() {
            const deps = JSON.parse(localStorage.getItem('mock_dependents') || '[]');
            const userDeps = deps.filter(d => d.userId === 'test-user-123');
            document.getElementById('dependents-result').innerHTML =
                `<p class="info">üì¶ –í—Å—å–æ–≥–æ dependents: ${deps.length}</p>
                <p class="info">üë§ –î–ª—è test-user-123: ${userDeps.length}</p>
                <pre>${JSON.stringify(userDeps, null, 2)}</pre>`;
        }

        function clearDependents() {
            let deps = JSON.parse(localStorage.getItem('mock_dependents') || '[]');
            deps = deps.filter(d => d.userId !== 'test-user-123');
            localStorage.setItem('mock_dependents', JSON.stringify(deps));
            document.getElementById('dependents-result').innerHTML =
                `<p class="success">‚úÖ –¢–µ—Å—Ç–æ–≤—ñ dependents –æ—á–∏—â–µ–Ω–æ</p>`;
        }

        // Patients
        function testPatients() {
            const pats = JSON.parse(localStorage.getItem('mock_patients') || '[]');
            const newPat = {
                id: Date.now().toString(),
                name: `Test Patient ${new Date().toLocaleTimeString('uk-UA')}`,
                doctorId: 'test-doctor-123',
                createdAt: new Date().toISOString()
            };
            pats.push(newPat);
            localStorage.setItem('mock_patients', JSON.stringify(pats));
            document.getElementById('patients-result').innerHTML =
                `<p class="success">‚úÖ –î–æ–¥–∞–Ω–æ patient: ${newPat.name}</p>`;
            showPatients();
        }

        function showPatients() {
            const pats = JSON.parse(localStorage.getItem('mock_patients') || '[]');
            const docPats = pats.filter(p => p.doctorId === 'test-doctor-123');
            document.getElementById('patients-result').innerHTML =
                `<p class="info">üì¶ –í—Å—å–æ–≥–æ patients: ${pats.length}</p>
                <p class="info">üë®‚Äç‚öïÔ∏è –î–ª—è test-doctor-123: ${docPats.length}</p>
                <pre>${JSON.stringify(docPats, null, 2)}</pre>`;
        }

        function clearPatients() {
            let pats = JSON.parse(localStorage.getItem('mock_patients') || '[]');
            pats = pats.filter(p => p.doctorId !== 'test-doctor-123');
            localStorage.setItem('mock_patients', JSON.stringify(pats));
            document.getElementById('patients-result').innerHTML =
                `<p class="success">‚úÖ –¢–µ—Å—Ç–æ–≤—ñ patients –æ—á–∏—â–µ–Ω–æ</p>`;
        }

        // Auto-show data on load
        window.onload = function() {
            showMedications();
            showDependents();
            showPatients();
        };
    </script>
</body>
</html>
